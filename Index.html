<:Window on:scroll='onScroll()' on:resize='onResize()'/>

<div class="columns">
	<div class="text-column" ref:textSections>

		<section
			data-show-friday-sunday-range
			data-show-weekday-labels
			data-show-daylight-nighttime-labels
		>
			<p>
				Traditionally, Christians have observed the crucifixion of Jesus on Friday afternoon, and the resurrection before daylight on a Sunday.
			</p>
			<p>
				This tradition is in conflict with the Biblical account of Jesus being in the grave for three days and three nights.
			</p>
			<p>
				Belief in a Friday crucifixion started primarily because of a miscalculation of the historical Jewish calendar. Since we have been able to calculate historical Jewish lunar calendars more accurately, the tradition has continued, mostly because that's the easiest thing to do with traditions.
			</p>
			<p>
				This page lays out the timeline of the crucifixion and resurrection as described in the Bible.
			</p>

			<h2>Note about the timeline</h2>

			<p>
				In this timeline you can see I've highlighted the nighttime and daytime portions of the days.
			</p>
			<p>
				This makes the timeline easier to read, but is also relevant because the Jews counted days as running from sundown to sundown.
			</p>

			<div class="mobile-timeline">
				<Timeline
					showFridaySundayRange={{true}}
					showWeekdayLabels={{true}}
					showDaylightNighttimeLabels={{true}}
					showTimeline={{true}}
					dayHeight={{daySize}}
					dayWidth={{daySize}}
				/>
			</div>
		</section>

		<section
			data-show-day-of-month
			data-show-lamb-sacrificed
			data-show-lamb-supper-eaten
			data-show-high-sabbath
			data-show-feast-of-unleavened-bread
		>
			<h1>
				Passover
			</h1>
			<p>
				The crucifixion overlaps with the Passover festival in important ways, so we'll start with the Passover timeline.
			</p>
			<p>
				Passover was always celebrated based on the day of the month:
			</p>
			<blockquote>
				<p>
					In the first month, on the fourteenth day of the month in the evening, is Yahweh’s Passover. On the fifteenth day of the same month is the feast of unleavened bread to Yahweh. Seven days you shall eat unleavened bread. In the first day you shall have a holy convocation. You shall do no regular work. But you shall offer an offering made by fire to Yahweh seven days. In the seventh day is a holy convocation. You shall do no regular work.
				</p>
				<p>
					-- Leviticus 23:5
				</p>
			</blockquote>
			<blockquote>
				<p>
					Your lamb shall be without defect, a male a year old. You shall take it from the sheep, or from the goats. You shall keep it until the fourteenth day of the same month; and the whole assembly of the congregation of Israel shall kill it [between the two evenings]. They shall take some of the blood, and put it on the two door posts and on the lintel, on the houses in which they shall eat it. They shall eat the meat in that night, roasted with fire, and unleavened bread.
				</p>
				<p>
					-- Exodus 12:5-8a
				</p>
			</blockquote>
			<p>
				See also Exodus 23:15-23, Exodus 12:1-11, and Deuteronomy 16:1-8 for more Biblical confirmations of the Passover dates. Current-day Jews who observe the Passover feast still use the Hebrew calendar to figure out when to observe these days.
			</p>
			<p>
				Note also that there are two special no-work "High Sabbaths" at the beginning and end of the Feast of Unleavened Bread. These days of rest are based on the day of the month, and don't necessarily overlap with the weekly seventh-day Sabbaths.
			</p>
			<p>
				(There were five other special days of rest commanded in the Bible during other feasts: Pentecost, Trumpets, Atonement, and two during Tabernacles.)
			</p>
			<p>
				Notice the Passover meal is observed on the evening of the 14th, and the 15th as the first day of the feast of unleavened bread every year.
			</p>

			<div class="mobile-timeline">
				<Timeline
					showDayOfMonth={{true}}
					showLambSacrificed={{true}}
					showLambSupperEaten={{true}}
					showHighSabbath={{true}}
					showFeastOfUnleavenedBread={{true}}
					showTimeline={{true}}
					dayHeight={{daySize}}
					dayWidth={{daySize}}
				/>
			</div>
		</section>

		<section
			data-show-day-of-month
			data-show-lamb-sacrificed
			data-show-high-sabbath
			data-show-crucifixion
		>
			<h1>
				Placing the events described in the Bible
			</h1>
			<h2>
				Crucifixion
			</h2>
			<blockquote>
				<p>
					Now it was the Preparation Day of the Passover, at about the sixth hour. [Pilate] said to the Jews, “Behold, your King!”
				</p>
				<p>
					...
				</p>
				<p>
					So then he delivered him to them to be crucified. So they took Jesus and led him away. He went out, bearing his cross, to the place called “The Place of a Skull”, which is called in Hebrew, “Golgotha”, where they crucified him
				</p>
				<p>
					-- John 19:14, 16-18a
				</p>
			</blockquote>
			<p>
				John explicitly states that not only was Jesus sentenced by Pilate and crucified on a preparation day, but it was the preparation day for the Passover.
			</p>
			<p>
				The other gospels confirm that he was killed on a preparation day: Luke 23:54, Matthew 27:62, Mark 15:42.
			</p>

			<div class="mobile-timeline">
				<Timeline
					showDayOfMonth={{true}}
					showLambSacrificed={{true}}
					showHighSabbath={{true}}
					showCrucifixion={{true}}
					showTimeline={{true}}
					dayHeight={{daySize}}
					dayWidth={{daySize}}
				/>
			</div>
		</section>

		<section
			data-show-day-of-month
			data-show-lamb-sacrificed
			data-show-high-sabbath
			data-show-crucifixion
			data-show-buried
		>
			<h2>
				Placed in the grave
			</h2>
			<blockquote>
				<p>
					When evening had now come, because it was the Preparation Day, that is, the day before the Sabbath, Joseph of Arimathaea, a prominent council member who also himself was looking for God’s Kingdom, came. He boldly went in to Pilate, and asked for Jesus’ body.
				</p>
				<p>
					...
				</p>
				<p>
					He bought a linen cloth, and taking him down, wound him in the linen cloth, and laid him in a tomb which had been cut out of a rock. He rolled a stone against the door of the tomb.
				</p>
				<p>
					-- Mark 15:42-43, 46
				</p>
			</blockquote>
			<p>
				See also Luke 23:50-55 and Matthew 27:57-60.
			</p>
			<p>
				Jesus was buried the same day he was crucified, on a day of preparation.
			</p>
			<p>
				The mention of Joseph purchasing a linen cloth is important - Joseph would not have been able to purchase a linen cloth on a weekly Sabbath, or a high Sabbath.
			</p>
			<blockquote>
				<p>
					Therefore the Jews, because it was the Preparation Day, so that the bodies wouldn’t remain on the cross on the Sabbath (for that Sabbath was a special one), asked of Pilate that their legs might be broken, and that they might be taken away.
				</p>
				<p>
					-- John 19:31
				</p>
			</blockquote>
			<p>
				John specifically calls out the fact that the day of preparation was not just for a weekly Saturday Sabbath.
			</p>

			<div class="mobile-timeline">
				<Timeline
					showDayOfMonth={{true}}
					showLambSacrificed={{true}}
					showHighSabbath={{true}}
					showCrucifixion={{true}}
					showBuried={{true}}
					showTimeline={{true}}
					dayHeight={{daySize}}
					dayWidth={{daySize}}
				/>
			</div>
		</section>

		<section
			data-show-day-of-month
			data-show-lamb-sacrificed
			data-show-high-sabbath
			data-show-crucifixion
			data-show-buried
			data-show-last-supper
		>
			<h2>
				The Last Supper
			</h2>
			<p>
				Placing the crucifixion on the 14th helps make more sense of the last supper being a meatless one - it was not a Passover lamb meal, but meal of bread traditionally eaten on the 13th.
			</p>
			<p>
				Jesus did not sacrifice a lamb to share with the apostles, he was sacrificed on the afternoon of the 14th, as the sacrifice of Passover lambs had been foreshadowing for centuries.
			</p>

			<div class="mobile-timeline">
				<Timeline
					showDayOfMonth={{true}}
					showLambSacrificed={{true}}
					showHighSabbath={{true}}
					showCrucifixion={{true}}
					showBuried={{true}}
					showLastSupper={{true}}
					showTimeline={{true}}
					dayHeight={{daySize}}
					dayWidth={{daySize}}
				/>
			</div>
		</section>

		<section
			data-show-day-of-month
			data-show-high-sabbath
			data-show-weekday-labels
			data-show-weekly-sabbath
		>
			<h1>
				Sidebar: dating the year of the crucifixion
			</h1>
			<p>
				Most historians and theologians are comfortable placing the year of the crucifixion at 30AD, and I will assume that this is the case for the purposes of this article.
			</p>
			<p>
				For more on the dating of the life of Jesus, see Pastor Kayser's booklet <a href="https://leanpub.com/december-25-jewish-style">December 25 Jewish-Style</a>.
			</p>
			<p>
				Thanks to modern astronomers and calendar nuts, we can reliably calculate what weekday fell on each day of the month in historical Jewish calendars.
			</p>
			<p>
				While not inspired, these historical calendar calculations lets us get a hint about the calendar at the time. Here, I've lined up the weekdays that correspond to the days of the first month of the Hebrew calendar as we calculate them occurring in 30AD.
			</p>
			<p>
				You'll notice that Saturday, the day of the Old Testament weekly Sabbath, lands on the 16th, the day after the Passover's day of rest.
			</p>
			<p>
				As it turns out, when we start placing the Bible's account of the resurrection, we'll see that it lines up with this placement of the weekly Sabbath nicely.
			</p>

			<div class="mobile-timeline">
				<Timeline
					showDayOfMonth={{true}}
					showHighSabbath={{true}}
					showWeekdayLabels={{true}}
					showWeeklySabbath={{true}}
					showTimeline={{true}}
					dayHeight={{daySize}}
					dayWidth={{daySize}}
				/>
			</div>
		</section>

		<section
			data-show-high-sabbath
			data-show-weekly-sabbath
			data-show-weekday-labels
			data-show-crucifixion
			data-show-buried
			data-show-resurrection
		>
			<h2>
				Resurrection
			</h2>
			<blockquote>
				<p>
					But on the first day of the week, at early dawn, they and some others came to the tomb, bringing the spices which they had prepared. They found the stone rolled away from the tomb. They entered in, and didn’t find the Lord Jesus’ body.
				</p>
				<p>
					-- Luke 24:1-3
				</p>
			</blockquote>
			<blockquote>
				<p>
					When the Sabbath was past, Mary Magdalene, and Mary the mother of James, and Salome, bought spices, that they might come and anoint him. Very early on the first day of the week, they came to the tomb when the sun had risen.
				</p>
				<p>
					-- Mark 16:1-2
				</p>
			</blockquote>
			<blockquote>
				<p>
					Now on the first day of the week, Mary Magdalene went early, while it was still dark, to the tomb, and saw the stone taken away from the tomb.
				</p>
				<p>
					-- John 20:1
				</p>
			</blockquote>
			<blockquote>
				<p>
					Now after the Sabbath[s], as it began to dawn on the first day of the week, Mary Magdalene and the other Mary came to see the tomb.
				</p>
				<p>
					-- Matthew 28:1
				</p>
			</blockquote>
			<p>
				Check out Matthew - the Greek text actually uses the plural for "Sabbath", instead of the singular!
			</p>
			<p>
				Almost no English translators have translate the verse accurately; they usually just change the plural word σαββάτων to the singular "Sabbath". Only a few translations, like Young's Literal Translation, take the plural seriously.
			</p>
			<p>
				Taken all together, the gospels are clear - the resurrection happened during the darkness of night on the first day of the week, after the Sabbath, after multiple Sabbaths.
			</p>
			<p>
				If you look earlier in the gospels where they talk about "Preparation Day", having one Sabbath immediately following another still makes sense - while it is mentioned that the Sabbath being prepared for was a special one, and that it was a Passover preparation day, only one singular day of preparation is ever mentioned.  If the two Sabbath days were not consecutive, there would have been separate days of preparation before each one.
			</p>

			<div class="mobile-timeline">
				<Timeline
					showHighSabbath={{true}}
					showWeeklySabbath={{true}}
					showWeekdayLabels={{true}}
					showCrucifixion={{true}}
					showBuried={{true}}
					showResurrection={{true}}
					showTimeline={{true}}
					dayHeight={{daySize}}
					dayWidth={{daySize}}
				/>
			</div>
		</section>

		<section
			data-show-weekday-labels
			data-show-crucifixion
			data-show-buried
			data-show-resurrection
			data-show-time-from-burial-to-resurrection
		>
			<h1>
				Checking these dates against other scriptures
			</h1>
			<blockquote>
				<p>
					For as Jonah was three days and three nights in the belly of the whale, so will the Son of Man be three days and three nights in the heart of the earth.
				</p>
				<p>
					-- Matthew 12:40
				</p>
			</blockquote>
			<p>
				This verse checks out - this timeline shows a sequence of three days and three nights, starting during the day cycle.
			</p>
			<p>
				There are many references to Jesus being in the grave for three days in the gospels, let alone the rest of the Bible.  Most use exclusive counting (not counting the first day), though there are a couple that state the three-day range using inclusive counting.
			</p>
			<p>
				Theories that involve a Sunday resurrection and a crucifixion on Wednesday or Friday can not account for both the inclusive and exclusive references to "three days" in the gospels - either way, some verses contradict their reading.
			</p>
			<p>
				For examples of exclusive and inclusive dating of Jesus's time in the tomb, see the following passages:
			</p>
			<p>
				Three days, exclusive on first day ("the third day"): Matthew 17:22-23a, Matthew 16:21, Matthew 20:18-19, Mark 9:31, Mark 10:33-34, Mark 9:31, Luke 9:22
			</p>
			<p>
				Three days, inclusive on first day ("after three days"): Matthew 27:62b-63, Mark 8:31
			</p>

			<div class="mobile-timeline">
				<Timeline
					showWeekdayLabels={{true}}
					showCrucifixion={{true}}
					showBuried={{true}}
					showResurrection={{true}}
					showTimeFromBurialToResurrection={{true}}
					showTimeline={{true}}
					dayHeight={{daySize}}
					dayWidth={{daySize}}
				/>
			</div>
		</section>

		<section
			data-show-high-sabbath
			data-show-weekly-sabbath
			data-show-weekday-labels
			data-show-crucifixion
			data-show-buried
			data-show-resurrection
			data-show-traditional-burial
		>
			<h1>
				In conclusion
			</h1>
			<p>
				If you don't realize that there were (or even could be) two Sabbaths back to back, it's easy to accidentally create inaccurate traditions.
			</p>
			<p>
				Send this page to your church and pastors, and let them know they're a day late on Good Friday!
			</p>
			<h2>
				More resources
			</h2>
			<ul>
				<li><a href="https://kaysercommentary.com/Sermons/Special%20Days/Matthew%2016_21%20version%202.md">The text of the sermon by Pastor Kayser that this is based on</a></li>
				<li><a href="https://leanpub.com/sunday-as-a-first-day-sabbath">"Sunday as a First-Day Sabbath"</a>, a booklet on how the weekly Sabbath changed from Saturday to Sunday</li>
				<li><a href="https://leanpub.com/december-25-jewish-style">"December 25 Jewish-Style"</a>, which includes work dating the life of Jesus</li>
				<li><a href="https://kaysercommentary.com/Resources/Feasts%20of%20Israel.md">"Feasts of Israel and their Prophetic Significance"</a>, a handy cheat sheet describing the Old Testament feasts</li>
			</ul>

			<div class="mobile-timeline">
				<Timeline
					showHighSabbath={{true}}
					showWeeklySabbath={{true}}
					showWeekdayLabels={{true}}
					showCrucifixion={{true}}
					showBuried={{true}}
					showResurrection={{true}}
					showTraditionalBurial={{true}}
					showTimeline={{true}}
					dayHeight={{daySize}}
					dayWidth={{daySize}}
				/>
			</div>
		</section>

	</div>
	<div class="timeline-column">
		<div class="sticky-timeline">
			<Timeline
				:showFridaySundayRange
				:showDaylightNighttimeLabels
				:showWeekdayLabels
				:showDayOfMonth
				:showLambSacrificed
				:showLambSupperEaten
				:showHighSabbath
				:showFeastOfUnleavenedBread
				:showCrucifixion
				:showBuried
				:showLastSupper
				:showWeeklySabbath
				:showResurrection
				:showTimeFromBurialToResurrection
				:showTimeline
				:showTraditionalBurial
				dayHeight={{daySize}}
				dayWidth={{daySize}}
			/>
		</div>
	</div>
</div>

<style>
@mixin column {
	flex-grow: 1;
	height: 100%;
	border: 0;
	margin: 0;
}

.columns {
	display: flex;
	align-items: stretch;
}

.text-column {
	@include column;
	max-width: 650px;
}

.timeline-column {
	@include column;
	min-width: 510px;
	flex-basis: 510px;
	flex-shrink: 0;
}
.sticky-timeline {
	position: fixed;
	top: 0;
	height: 100vh;

	display: flex;
	align-items: center;
	justify-content: center;
}

.mobile-timeline {
	display: none;
}

section {
	padding-top: 32px;
	padding-bottom: 32px;
}

@media (max-width: 900px) {
	.mobile-timeline {
		display: inherit;
	}
	.timeline-column {
		display: none;
	}

	section {
		padding-top: 0;
		padding-bottom: 0;
	}
}
</style>

<script>
import Timeline from './Timeline.html'
import visualizationHeight from './visualization-height.js'

const defaultTimelineState = {
	showFridaySundayRange: false,
	showWeekdayLabels: false,
	showDayOfMonth: false,
	showLambSacrificed: false,
	showLambSupperEaten: false,
	showHighSabbath: false,
	showFeastOfUnleavenedBread: false,
	showCrucifixion: false,
	showBuried: false,
	showLastSupper: false,
	showWeeklySabbath: false,
	showResurrection: false,
	showTimeFromBurialToResurrection: false,
	showDaylightNighttimeLabels: false,
	showTraditionalBurial: false,
}

const makeTruthyMap = keys => keys.reduce((o, key) => {
	o[key] = true
	return o
}, {})

export default {
	oncreate() {
		this.updateWindow()

		this.sections = [ ...this.refs.textSections.querySelectorAll(`section`) ]

		this.updateTimeline()
	},
	data() {
		return Object.assign({
			lastSection: null,
		}, defaultTimelineState)
	},
	computed: {
		daySize: windowHeight => windowHeight
			? windowHeight > 450 ? 100 : 80
			: 100,
	},
	components: {
		Timeline,
	},
	methods: {
		updateWindow() {
			this.set({
				windowHeight: window.document.documentElement.clientHeight,
			})
		},
		hideTimeline() {
			this.set(Object.assign(
				{ showTimeline: false },
				defaultTimelineState
			))
		},
		updateTimeline() {
			const { windowHeight, lastSection, daySize } = this.get()

			const {
				top: textSectionTop,
				bottom: textSectionBottom,
			} = this.refs.textSections.getBoundingClientRect()

			const visualizationMargin = (windowHeight - visualizationHeight(daySize)) / 2

			const visualizationHasRoom = textSectionTop < visualizationMargin
				&& textSectionBottom > (windowHeight - visualizationMargin)

			if (!visualizationHasRoom) {
				this.hideTimeline()
				return
			}

			const middleOfScreen = windowHeight / 2

			const visibleAboveMiddleOfScreen = this.sections.filter(section => {
				const { bottom, top } = section.getBoundingClientRect()

				return bottom > 0 && top < middleOfScreen
			})

			if (visibleAboveMiddleOfScreen.length === 0) {
				this.hideTimeline()
				return
			}

			const lastSectionInTopHalfOfScreen = visibleAboveMiddleOfScreen.pop()

			if (lastSectionInTopHalfOfScreen === lastSection) {
				this.hideTimeline()
				return
			}

			const trueValues = makeTruthyMap(
				Object.keys(lastSectionInTopHalfOfScreen.dataset)
			)

			this.set(Object.assign({
				showTimeline: true,
				lastSection,
			}, defaultTimelineState, trueValues))

			return lastSectionInTopHalfOfScreen
		},
		onResize() {
			this.updateWindow()
		},
		onScroll() {
			this.updateTimeline()
		},
	},
}
</script>
